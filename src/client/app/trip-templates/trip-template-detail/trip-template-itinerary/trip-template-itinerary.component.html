<div class="itinerary-header">
  <h3>{{'Itinerario'}}</h3>
  <div class="itinerary-buttons">
    <button mat-button (click)="addDay()" color="accent" class="new-day">{{'+ Añadir día'}}</button>
    <button mat-icon-button (click)="toggleHeader()">
      <mat-icon aria-label="Collapse">{{headerCollapsed? 'expand_more' : 'expand_less'}}</mat-icon>
    </button>
  </div>
</div>
<div class="days-list" #dayList [hidden]="headerCollapsed">
  <div class="event-overlay" *ngIf="showOverlay" (click)="hideEmptySlot()"></div>
  <ul class="event-list">
    <li *ngFor="let day of itineraryDays; let dayIndex = index;" class="day-ctn">
      <div class="vertical-line"></div>
      <div class="day-count">
        <div class="horizontal-divisor"></div>
      </div>
      <ul>

        <li *ngFor="let events of day.events, let intidx = index">
          <app-add-event (openedDialog)="openDialog($event)" [ordinal]="intidx" [day]="day._id" *ngIf="showEmptySlot"></app-add-event>
          <app-event-summarized-card [editMode]="showEmptySlot" [data]="events" [day]="dayIndex" (openedDialog)="openDialog($event)" ></app-event-summarized-card>
        </li>

        <app-add-event [editMode]="showEmptySlot"
                       (openedDialog)="openDialog($event)"
                       [ordinal]="itineraryDays[dayIndex].length || 0"
                       [day]="day._id" *ngIf="showEmptySlot"
                       [firstEvent]="(itineraryDays[dayIndex] || []).length === 0"></app-add-event>

        <li (click)="openEmptySlot(day._id)" class="add-event-ctn">
          <div class="icon-ctn" >
            <div class="add-icon">+</div>
          </div>
          <div class="add-label">{{'Añadir nuevo evento' | translate}}</div>
        </li>

      </ul>
    </li>

  </ul>

</div>


