<div class="itinerary-header" *ngIf="!editedDayId">
  <h3>{{'Itinerario'}}</h3>
  <div class="itinerary-buttons">
    <button mat-flat-button (click)="addDay()" color="accent" class="new-day">{{'+ Añadir día'}}</button>
  </div>
</div>
<div class="days-list" #dayList [hidden]="headerCollapsed">
  <ul class="event-list">
    <li *ngFor="let day of itineraryDays; let dayIndex = index;" class="day-ctn" [hidden]="editedDayId && editedDayId !== day._id">
      <div class="vertical-line"></div>
      <div class="day-count" [class.edit-mode]="editedDayId && editedDayId === day._id">
        <h4>Day {{dayIndex + 1}}</h4>
        <button mat-icon-button class="delete-button" alt="Delete" (click)="deleteDay(day._id)">
          <mat-icon>delete</mat-icon>
        </button>
        <button mat-icon-button class="edit-button" alt="Edit" (click)="openEmptySlot(day._id)" *ngIf="!editedDayId">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button class="close-button" alt="Close" (click)="hideEmptySlot()" *ngIf="editedDayId">
          <mat-icon>close</mat-icon>
        </button>
      </div>
      <ul>

        <li *ngFor="let events of day.events, let intidx = index">
          <app-add-event (openedDialog)="openDialog($event)" [ordinal]="intidx" [day]="day._id" *ngIf="editedDayId">
            <div class="add-event-cluster">
              <div class="icon-ctn">
                <mat-icon>add</mat-icon>
              </div>
              <div class="summary-ctn">
                <h5>{{'Agregar evento aquí' | translate}}</h5>
              </div>
            </div>
          </app-add-event>
          <app-event-summarized-card [editMode]="showEmptySlot" [data]="events" [day]="dayIndex" (openedDialog)="openDialog($event)" ></app-event-summarized-card>
        </li>

        <app-add-event [editMode]="showEmptySlot"
                       (openedDialog)="openDialog($event)"
                       [ordinal]="day.events.length"
                       [day]="day._id" *ngIf="editedDayId">

          <div class="add-event-cluster">
            <div class="icon-ctn">
              <mat-icon>add</mat-icon>
            </div>
            <div class="summary-ctn">
              <h5>{{'Agregar evento aquí' | translate}}</h5>
            </div>
          </div>
        </app-add-event>

      </ul>
    </li>

  </ul>

</div>


