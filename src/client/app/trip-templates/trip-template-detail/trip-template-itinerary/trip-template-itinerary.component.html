<div class="itinerary-header">
  <h3>{{'Itinerario'}}</h3>
  <div class="itinerary-buttons">
    <button mat-button (click)="addDay()" color="accent" class="new-day">{{'+ Añadir día'}}</button>
    <button mat-icon-button (click)="toggleHeader()">
      <mat-icon aria-label="Collapse">{{headerCollapsed? 'expand_more' : 'expand_less'}}</mat-icon>
    </button>
  </div>
</div>
<div class="days-list" #dayList [hidden]="headerCollapsed">
  <div class="event-overlay" *ngIf="showOverlay" (click)="hideEmptySlot()"></div>
  <ul class="event-list">
    <li *ngFor="let day of itineraryEvents; let idx = index;" class="day-ctn">
      <div class="vertical-line"></div>
      <div class="day-count">
        <div class="horizontal-divisor"></div>
        <h4>{{'Day' | translate: {day: day.day} }}</h4>
      </div>
      <ul>

        <li *ngFor="let events of day.events, let intidx = index">
          <app-add-event (openedDialog)="openDialog($event)" [ordinal]="events.index" [day]="day.day" *ngIf="showEmptySlot"></app-add-event>
          <app-event-summarized-card [editMode]="showEmptySlot" [data]="events" [day]="day.day" (openedDialog)="openDialog($event)" ></app-event-summarized-card>
        </li>
        <app-add-event [editMode]="showEmptySlot" (openedDialog)="openDialog($event)" [ordinal]="day.events.length" [day]="day.day" *ngIf="showEmptySlot" [firstEvent]="!day.events || day.events.length === 0"></app-add-event>

        <li (click)="openEmptySlot()" class="add-event-ctn">
          <div class="icon-ctn" >
            <div class="add-icon">+</div>
          </div>
          <div class="add-label">{{'Añadir nuevo evento' | translate}}</div>
        </li>

      </ul>
    </li>

  </ul>

</div>


