<div class="location-desc" [formGroup]="placeForm">

  <mat-form-field color="accent" >
    <input #location type="text" matInput placeholder="{{'Nombre' | translate}}" required name="name" formControlName="name"/>
    <mat-error *ngIf="placeForm.get('name').invalid && (placeForm.get('name').dirty || placeForm.get('name').touched)">{{'Campo requerido' | translate}}</mat-error>
  </mat-form-field>

  <mat-form-field color="accent">
    <mat-select placeholder="{{'Tipo de punto' | translate}}" name="type" required formControlName="type">
      <mat-option [value]="pointType.value" *ngFor="let pointType of pointTypes">
        {{pointType.viewValue | translate}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="placeForm.get('type').invalid && (placeForm.get('type').dirty || placeForm.get('type').touched)">{{'Campo requerido' | translate}}</mat-error>
  </mat-form-field>

  <mat-tab-group *ngIf="tabController && availableLanguages" formGroupName="description">
    <mat-tab *ngFor="let lang of getLanguages()">
      <ng-template mat-tab-label>
        {{lang | translate | uppercase }}
      </ng-template>
      <mat-form-field color="accent">
        <textarea matInput placeholder="{{'DescripciÃ³n' | translate}}" name="{{lang}}" formControlName="{{lang}}" maxlength="1000">
          {{placeForm.value.description[lang]}}
        </textarea>
      </mat-form-field>
      <p *ngIf="placeForm.value.description[lang]" class="chars-left">
        {{"Restan" | translate}}&nbsp;{{1000 - placeForm.value.description[lang].length}}&nbsp;{{"caracteres" | translate}}
      </p>
      <p [hidden]="placeForm.value.description[lang]" class="chars-left">
        {{"Restan" | translate}}&nbsp;{{1000}}&nbsp;{{"caracteres" | translate}}
      </p>
    </mat-tab>
    <mat-tab [disabled]="!placeForm.value.description[defaultLanguage]" *ngIf="availableLanguages.length > 0">
      <ng-template mat-tab-label>
        <button [disabled]="!placeForm.value.description[defaultLanguage]" mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>add</mat-icon>
        </button>
      </ng-template>
      <mat-menu #menu="matMenu">
        <button mat-menu-item *ngFor="let lng of availableLanguages" (click)="getTranslation(lng)">{{lng | translate}}</button>
      </mat-menu>
    </mat-tab>
  </mat-tab-group>


</div>
